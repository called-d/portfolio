<template>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
   width="800"
   height="500"
   viewBox="0 0 799.9999 500.00002">
  <defs
     id="defs4">
    <linearGradient
       id="linearGradient5616">
      <stop
         style="stop-color:#ffffff;stop-opacity:1"
         offset="0"
         id="stop5618" />
      <stop
         style="stop-color:#70fef6;stop-opacity:1"
         offset="1"
         id="stop5620" />
    </linearGradient>
    <radialGradient
       xlink:href="#linearGradient5616"
       id="radialGradient5666" ref="radialGradient5666"
       gradientUnits="userSpaceOnUse"
       gradientTransform="matrix(0.30012869,-0.18161609,0.29720156,0.49113882,-54.525422,608.02373)"
       cx="286.82965"
       cy="429.26218"
       fx="286.82965"
       fy="429.26218"
       r="216.16801" />
  </defs>
  <g
     id="layer1"
     transform="translate(0,-552.36149)">
    <g
       id="g5651"
       transform="translate(225.21687,-14.655479)">
      <path
         id="path4149"
         d="M 21.674658,662.42228 C 200.42258,821.14212 240.56171,838.92708 224.7456,899.65689 c -0.96628,3.71026 -6.3893,13.44449 -13.88917,9.51231 -3.89442,7.78278 -8.55305,33.80978 -20.33385,21.29093 -1.13191,8.78219 -6.27428,15.70793 -14.83442,16.87715 0,0 2.95692,14.51375 -15.35862,13.86349 0,0 0.58591,13.2826 -4.72559,14.8154 -7.54484,2.17731 -21.20057,-10.9142 -15.9509,15.65162 -18.88446,17.00921 -9.46711,40.27271 -15.34023,45.69441 -7.39282,-4.8151 -21.64293,-9.4262 -31.394852,-1.5743 -10.23028,-1.9655 -14.27095,-6.704 -21.03121,-18.8439 7.80381,-36.91934 17.25001,-71.41878 15.87981,-85.3172 -12.75785,-1.31693 -11.4473,-1.13894 -19.584,-4.47926 -12.7846,-21.9702 -20.56823,-33.6173 -36.16874,-33.65448 18.98718,-75.42063 -7.65126,-164.94825 -10.33917,-231.07078 z"
         style="opacity:1;fill:#3b2501;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <path
         id="path4147"
         d="m 16.118818,653.83597 c 158.800332,-84.3146 442.027452,-72.51183 528.112462,24.65145 9.24936,10.43966 -3.23744,28.90269 -22.02604,39.99832 0,0 -39.38963,23.09862 -61.11422,29.29442 -17.915,5.10932 -37.79553,1.34244 -55.5584,6.06092 -11.00567,2.92353 -72.54199,40.1496 -98.82595,54.89151 -19.73399,11.06823 -93.30844,33.5054 -105.22486,26.42577 C 126.45253,790.583 127.2356,804.85378 16.118818,653.83597 Z"
         style="opacity:1;fill:#533401;fill-opacity:1;fill-rule:evenodd;stroke:#ffffff;stroke-width:1.5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
      <path
         id="path4151"
         d="m 479.88392,646.49676 c -0.58838,0.0238 -1.14821,0.14471 -1.67188,0.375 -10.36458,4.78028 13.34747,25.08473 18.45117,23.82422 7.19569,-3.02666 -7.95373,-24.55596 -16.77929,-24.19922 z m -94.02735,0.86523 c -9.54154,-0.25033 -19.674,2.99076 -12.85547,12.46094 22.72843,27.02158 35.13482,33.75951 50.28711,15.32422 1.01015,-4.29314 -21.16019,-22.68459 -28.73633,-26.47266 -2.39911,-0.75761 -5.51479,-1.22905 -8.69531,-1.3125 z m 48.74805,1.60938 c -13.90425,0.18829 -15.24743,14.93743 19.47656,30.8789 0,0 16.06133,-7.04767 14.04102,-12.60351 -12.31124,-13.25826 -25.17503,-18.38837 -33.51758,-18.27539 z m -95.89844,7.8125 c -7.82869,-0.25254 -13.61346,5.84806 -9.32031,9.88867 0,0 14.41356,16.93736 37.39453,31.33203 2.65165,1.51523 4.22053,-5.75137 11.03906,-6.00391 12.37437,1.51523 -15.3747,-27.89319 -39.11328,-35.21679 z m -37.96875,4.78125 c -6.48638,0.17722 -13.40792,2.51088 -20.47266,8.00195 -5,4.82142 26.96131,32.51412 33.03711,34.46484 9.82143,4.28572 6.78572,-6.25083 23.75,-4.82226 11.75224,1.3058 -8.2068,-38.41249 -36.31445,-37.64453 z m -53.43359,5.21484 c -13.2503,0.0565 -26.74889,2.54269 -24.53907,7.9668 30,61.42857 106.07143,52.85602 47.5,-3.92969 -2.5,-2.65625 -12.65515,-4.08105 -22.96093,-4.03711 z m -41.17774,7.50586 c -13.17256,-0.1501 -33.56413,12.70745 -30.48633,19.27344 38.13326,75.76144 74.75487,28.73045 70.9668,23.67968 -3.28299,-7.07106 -21.78091,-30.17914 -32.89258,-40.5332 -1.89403,-1.65728 -4.54806,-2.38528 -7.58789,-2.41992 z m -47.33203,15.77344 c -9.21932,-0.0736 -38.24161,14.20425 -40.33984,18.91211 -2.09823,4.70787 35.93334,52.13364 44.79101,52.38672 8.85767,0.25308 13.22452,-13.12228 18.70118,-17.04883 5.47665,-3.92655 11.47208,-1.00158 13.24023,-7.31641 1.76815,-6.31483 -27.17326,-46.85999 -36.39258,-46.93359 z m -50.91406,19.99804 c -7.61085,0.42636 -14.313702,14.93541 -21.900392,17.01563 -7.83142,2.14733 36.424932,67.91135 61.384762,36.86133 5.35389,-6.66024 -30.82543,-53.34871 -38.74414,-53.875 -0.24746,-0.0164 -0.49472,-0.0157 -0.74023,-0.002 z m -19.332032,31.38086 c -7.82869,8.33376 -12.86102,48.55503 -10.8711,55.1836 1.98992,6.62856 8.29569,17.7903 12.85157,25.79297 4.55587,8.00267 11.580832,14.20027 12.421872,4.94336 0.84103,-9.25691 3.68855,-16.31951 9.91602,-18.26172 6.22747,-1.9422 6.14413,-11.03349 4.6289,-37.04493 0,0 -20.360972,-12.43053 -28.947262,-30.61328 z m -15.12305,61.56836 c -0.48338,0.0864 -0.67401,0.85223 -0.48047,2.45313 3.97139,32.8497 -13.036,88.7514 -4.10742,96.78711 6.33727,4.78245 16.19497,-39.30494 24.46484,-47.85742 7.365372,-7.61705 -15.94089,-52.08634 -19.87695,-51.38282 z m 130.345702,63.56446 c -3.3676,-0.0291 -7.21894,0.37548 -10.82617,0.67578 -5.40251,8.72398 -5.35714,13.21456 -3.75,15.35742 5.17857,7.32143 4.77434,-11.09062 8.21485,-11.78711 3.44051,-0.69648 13.21372,4.19755 15.53515,5.17969 2.32143,0.98214 2.09466,-4.63231 -1.25,-7.5 -1.67233,-1.43385 -4.55622,-1.89667 -7.92383,-1.92578 z m -25.94726,28.20312 c -2.85856,0.0133 -5.39401,0.53727 -7.00977,1.24024 -3.69316,1.60679 -7.50039,8.2774 -7.65234,12.25195 -0.96964,25.36401 3.69763,6.92363 5.38672,0.28125 1.6891,-6.64239 4.62219,-10.40617 19.11133,-3.08203 6.41303,3.24174 7.73054,-3.28081 1.53515,-7.50586 -3.48491,-2.37659 -7.6958,-3.20265 -11.37109,-3.18555 z m -22.02149,39.79297 c -9.46429,5.17857 -12.67574,-0.44767 -17.5,2.67969 -4.82427,3.12737 -16.90114,24.53887 -11.60742,27.32031 5.29371,2.78145 11.34747,-20.37131 16.42774,-19.82031 5.08027,0.55101 14.14297,8.84875 17.32226,8.21289 3.17929,-0.63585 -2.85687,-15.53544 -4.64258,-18.39258 z m -50.55078,34.41016 c -6.661742,-0.0747 -9.271242,9.36291 -13.378902,12.37695 8.247032,-0.3022 17.739302,-5.53342 19.822262,5.17773 5.49527,6.33667 6.76079,-9.16892 3.57031,-12.14257 -4.18062,-3.8965 -7.4069,-5.38288 -10.01367,-5.41211 z"
         style="fill:url(#radialGradient5666);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    </g>
    <use
       x="0"
       y="0"
       xlink:href="#g5651" ref="g5651"
       id="use5656"
       transform="matrix(-1,0,0,1,466.39225,4.5062452e-8)"
       width="100%"
       height="100%" />
  </g>
</svg>
</template>

<script lang="ts">
import { defineComponent, onMounted } from "vue";

export default defineComponent({
    setup() {
        onMounted(() => {
            const grad = document.getElementById('radialGradient5666')!
            const p = document.getElementById('g5651')!
            let orientatioMode = true
            const updateByOrientation = (e: { beta: number, gamma: number }) => {
                const r = 100 + (Math.abs(e.gamma!)+Math.abs(e.beta!))/90 * 600
                const xoff = e.beta! * 10;
                grad.setAttribute('r', ''+r);
                grad.setAttribute('cx', ''+xoff);
                grad.setAttribute('fx', ''+xoff);
                p.setAttribute('transform', 'translate(225.21687,-14.655479)' +
                    'scale(' + (1 - Math.abs(e.beta!/90)) + ', 1)');
            }
            window.addEventListener('deviceorientation', function(e: DeviceOrientationEvent) {
                if (orientatioMode) updateByOrientation({ beta: e.beta!, gamma: e.gamma! })
            })
            let mouse = { x: 0, y: 0 }
            let scroll = 0
            const updateByMousePos = () => updateByOrientation({ beta: mouse.x * 6.0 + 20 * Math.sin(scroll / 140), gamma: mouse.y * 10.0 + 5.0 * Math.sin(scroll / 500) })
            window.addEventListener('mousemove', function(e: MouseEvent) {
                orientatioMode = false
                mouse = { x: e.clientX / window.innerWidth, y: e.clientY / window.innerHeight }
                updateByMousePos()
            })
            window.addEventListener('scroll', function() {
                scroll = window.scrollY
                requestAnimationFrame(updateByMousePos)
            })
        })

        return {}
    }
})
</script>
